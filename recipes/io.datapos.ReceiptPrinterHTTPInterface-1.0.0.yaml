---
RecipeFormatVersion: '2020-01-25'
ComponentName: io.datapos.ReceiptPrinterHTTPInterface
ComponentVersion: '1.0.0'
ComponentDescription: Receives print jobs over HTTP and passes them to ReceiptPrinter.
ComponentPublisher: DataPOS
ComponentConfiguration:
  DefaultConfiguration:
    # todoc comment
    printServerUrl: https://3qpbp0efwe.execute-api.ap-southeast-2.amazonaws.com/dev
    # todoc comment
    dataposApiUrl: https://public-api.shared.staging.datapos.io
    # todoc comment
    vendorUsername: brod
    vendorPassword: '1234'
Manifests:
  - Platform:
      os: linux
    Artifacts:
      # "S3_BUCKET_NAME" will be replaced by deploy.sh.
      - URI: s3://S3_BUCKET_NAME/artifacts/io.datapos.ReceiptPrinterHTTPInterface/1.0.0/artifact.zip
        Unarchive: ZIP
    Lifecycle:
      Run: |
        node {artifacts:decompressedPath}/artifact/http-interface.js \
          --print-server-url='{configuration:/printServerUrl}' \
          --datapos-api-url='{configuration:/dataposApiUrl}' \
          --vendor-username='{configuration:/vendorUsername}' \
          --vendor-password='{configuration:/vendorPassword}'
